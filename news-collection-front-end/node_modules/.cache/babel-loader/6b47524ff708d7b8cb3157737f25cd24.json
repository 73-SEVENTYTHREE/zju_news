{"ast":null,"code":"var _jsxFileName = \"/zju/zju_news/news-collection-front-end/src/pages/Login/index.js\";\nimport { Form, Input, Button, Checkbox, message } from 'antd';\nimport banner from \"../../banner.png\";\nimport { Header } from \"antd/es/layout/layout\";\nimport axios from \"axios\";\nimport cookie from 'react-cookies';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = props => {\n  const onFinish = async values => {\n    const data = (await axios.post('/api/auth/login', {\n      username: values.username,\n      password: values.password\n    })).data;\n\n    if (data.code === 200) {\n      cookie.save('username', values.username);\n      props.history.push({\n        pathname: '/index'\n      });\n    } else {\n      message.warning('账号或密码错误，请重新输入！');\n    }\n  };\n\n  const onFinishFailed = errorInfo => {\n    console.log('Failed:', errorInfo);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      className: \"header\",\n      style: {\n        backgroundColor: 'rgb(6, 22, 72)',\n        position: 'sticky',\n        top: '0',\n        zIndex: '1',\n        height: '8vh'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: banner,\n          alt: 'logo',\n          style: {\n            height: '2.5rem'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: 'auto 0 auto 0',\n        position: 'absolute',\n        top: '50%',\n        width: '100vw',\n        transform: 'translateY(-50%)'\n      },\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        name: \"basic\",\n        labelCol: {\n          span: 8\n        },\n        wrapperCol: {\n          span: 8\n        },\n        initialValues: {\n          remember: true\n        },\n        onFinish: onFinish,\n        onFinishFailed: onFinishFailed,\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"\\u8D26\\u53F7\",\n          name: \"username\",\n          rules: [{\n            required: true,\n            message: '请输入账号!'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"\\u5BC6\\u7801\",\n          name: \"password\",\n          rules: [{\n            required: true,\n            message: '请输入密码!'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input.Password, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"remember\",\n          valuePropName: \"checked\",\n          wrapperCol: {\n            offset: 8,\n            span: 8\n          },\n          children: /*#__PURE__*/_jsxDEV(Checkbox, {\n            children: \"\\u8BB0\\u4F4F\\u6211\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          wrapperCol: {\n            offset: 8,\n            span: 8\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            children: \"\\u767B\\u5F55\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this);\n};\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/zju/zju_news/news-collection-front-end/src/pages/Login/index.js"],"names":["Form","Input","Button","Checkbox","message","banner","Header","axios","cookie","Login","props","onFinish","values","data","post","username","password","code","save","history","push","pathname","warning","onFinishFailed","errorInfo","console","log","backgroundColor","position","top","zIndex","height","padding","width","transform","span","remember","required","offset"],"mappings":";AAAA,SAAQA,IAAR,EAAcC,KAAd,EAAqBC,MAArB,EAA6BC,QAA7B,EAAuCC,OAAvC,QAAqD,MAArD;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,SAAQC,MAAR,QAAqB,uBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,eAAnB;;;AAEA,MAAMC,KAAK,GAAGC,KAAK,IAAI;AACnB,QAAMC,QAAQ,GAAG,MAAOC,MAAP,IAAuB;AACpC,UAAMC,IAAI,GAAG,CAAC,MAAMN,KAAK,CAACO,IAAN,CAAY,iBAAZ,EAA+B;AAC/CC,MAAAA,QAAQ,EAAEH,MAAM,CAACG,QAD8B;AAE/CC,MAAAA,QAAQ,EAAEJ,MAAM,CAACI;AAF8B,KAA/B,CAAP,EAGTH,IAHJ;;AAIA,QAAGA,IAAI,CAACI,IAAL,KAAc,GAAjB,EAAqB;AACjBT,MAAAA,MAAM,CAACU,IAAP,CAAY,UAAZ,EAAwBN,MAAM,CAACG,QAA/B;AACAL,MAAAA,KAAK,CAACS,OAAN,CAAcC,IAAd,CAAoB;AAACC,QAAAA,QAAQ,EAAE;AAAX,OAApB;AACH,KAHD,MAIK;AACDjB,MAAAA,OAAO,CAACkB,OAAR,CAAgB,gBAAhB;AACH;AACJ,GAZD;;AAcA,QAAMC,cAAc,GAAIC,SAAD,IAAoB;AACvCC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,SAAvB;AACH,GAFD;;AAIA,sBACI;AAAA,4BACI,QAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,QAAlB;AAA2B,MAAA,KAAK,EAAE;AAACG,QAAAA,eAAe,EAAC,gBAAjB;AAAmCC,QAAAA,QAAQ,EAAC,QAA5C;AAAsDC,QAAAA,GAAG,EAAC,GAA1D;AAA+DC,QAAAA,MAAM,EAAC,GAAtE;AAA2EC,QAAAA,MAAM,EAAC;AAAlF,OAAlC;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA,+BACI;AAAK,UAAA,GAAG,EAAE1B,MAAV;AAAkB,UAAA,GAAG,EAAE,MAAvB;AAA+B,UAAA,KAAK,EAAE;AAAC0B,YAAAA,MAAM,EAAC;AAAR;AAAtC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ,eAMI;AAAK,MAAA,KAAK,EAAE;AAACC,QAAAA,OAAO,EAAC,eAAT;AAAyBJ,QAAAA,QAAQ,EAAC,UAAlC;AAA8CC,QAAAA,GAAG,EAAC,KAAlD;AAAwDI,QAAAA,KAAK,EAAC,OAA9D;AAAuEC,QAAAA,SAAS,EAAC;AAAjF,OAAZ;AAAA,6BACI,QAAC,IAAD;AACI,QAAA,IAAI,EAAC,OADT;AAEI,QAAA,QAAQ,EAAE;AAAEC,UAAAA,IAAI,EAAE;AAAR,SAFd;AAGI,QAAA,UAAU,EAAE;AAAEA,UAAAA,IAAI,EAAE;AAAR,SAHhB;AAII,QAAA,aAAa,EAAE;AAAEC,UAAAA,QAAQ,EAAE;AAAZ,SAJnB;AAKI,QAAA,QAAQ,EAAEzB,QALd;AAMI,QAAA,cAAc,EAAEY,cANpB;AAAA,gCAQI,QAAC,IAAD,CAAM,IAAN;AACI,UAAA,KAAK,EAAC,cADV;AAEI,UAAA,IAAI,EAAC,UAFT;AAGI,UAAA,KAAK,EAAE,CAAC;AAAEc,YAAAA,QAAQ,EAAE,IAAZ;AAAkBjC,YAAAA,OAAO,EAAE;AAA3B,WAAD,CAHX;AAAA,iCAKI,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AALJ;AAAA;AAAA;AAAA;AAAA,gBARJ,eAgBI,QAAC,IAAD,CAAM,IAAN;AACI,UAAA,KAAK,EAAC,cADV;AAEI,UAAA,IAAI,EAAC,UAFT;AAGI,UAAA,KAAK,EAAE,CAAC;AAAEiC,YAAAA,QAAQ,EAAE,IAAZ;AAAkBjC,YAAAA,OAAO,EAAE;AAA3B,WAAD,CAHX;AAAA,iCAKI,QAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AALJ;AAAA;AAAA;AAAA;AAAA,gBAhBJ,eAwBI,QAAC,IAAD,CAAM,IAAN;AAAW,UAAA,IAAI,EAAC,UAAhB;AAA2B,UAAA,aAAa,EAAC,SAAzC;AAAmD,UAAA,UAAU,EAAE;AAAEkC,YAAAA,MAAM,EAAE,CAAV;AAAaH,YAAAA,IAAI,EAAE;AAAnB,WAA/D;AAAA,iCACI,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAxBJ,eA4BI,QAAC,IAAD,CAAM,IAAN;AAAW,UAAA,UAAU,EAAE;AAAEG,YAAAA,MAAM,EAAE,CAAV;AAAaH,YAAAA,IAAI,EAAE;AAAnB,WAAvB;AAAA,iCACI,QAAC,MAAD;AAAQ,YAAA,IAAI,EAAC,SAAb;AAAuB,YAAA,QAAQ,EAAC,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBA5BJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YANJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA8CH,CAjED;;KAAM1B,K;AAkEN,eAAeA,KAAf","sourcesContent":["import {Form, Input, Button, Checkbox, message} from 'antd';\nimport banner from \"../../banner.png\";\nimport {Header} from \"antd/es/layout/layout\";\nimport axios from \"axios\";\nimport cookie from 'react-cookies'\n\nconst Login = props => {\n    const onFinish = async (values: any) => {\n        const data = (await axios.post ('/api/auth/login', {\n            username: values.username,\n            password: values.password\n        })).data\n        if(data.code === 200){\n            cookie.save('username', values.username)\n            props.history.push ({pathname: '/index'})\n        }\n        else {\n            message.warning('账号或密码错误，请重新输入！')\n        }\n    };\n\n    const onFinishFailed = (errorInfo: any) => {\n        console.log('Failed:', errorInfo);\n    };\n\n    return (\n        <div>\n            <Header className=\"header\" style={{backgroundColor:'rgb(6, 22, 72)', position:'sticky', top:'0', zIndex:'1', height:'8vh'}}>\n                <div className=\"logo\" >\n                    <img src={banner} alt={'logo'} style={{height:'2.5rem'}}/>\n                </div>\n            </Header>\n            <div style={{padding:'auto 0 auto 0',position:'absolute', top:'50%',width:'100vw', transform:'translateY(-50%)'}}>\n                <Form\n                    name=\"basic\"\n                    labelCol={{ span: 8 }}\n                    wrapperCol={{ span: 8 }}\n                    initialValues={{ remember: true }}\n                    onFinish={onFinish}\n                    onFinishFailed={onFinishFailed}\n                >\n                    <Form.Item\n                        label=\"账号\"\n                        name=\"username\"\n                        rules={[{ required: true, message: '请输入账号!' }]}\n                    >\n                        <Input />\n                    </Form.Item>\n\n                    <Form.Item\n                        label=\"密码\"\n                        name=\"password\"\n                        rules={[{ required: true, message: '请输入密码!' }]}\n                    >\n                        <Input.Password />\n                    </Form.Item>\n\n                    <Form.Item name=\"remember\" valuePropName=\"checked\" wrapperCol={{ offset: 8, span: 8 }}>\n                        <Checkbox>记住我</Checkbox>\n                    </Form.Item>\n\n                    <Form.Item wrapperCol={{ offset: 8, span: 8 }}>\n                        <Button type=\"primary\" htmlType=\"submit\">\n                            登录\n                        </Button>\n                    </Form.Item>\n                </Form>\n            </div>\n        </div>\n\n    );\n};\nexport default Login;"]},"metadata":{},"sourceType":"module"}