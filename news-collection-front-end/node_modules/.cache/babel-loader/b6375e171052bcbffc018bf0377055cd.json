{"ast":null,"code":"import _regeneratorRuntime from\"/zju/zju_news/news-collection-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/zju/zju_news/news-collection-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/zju/zju_news/news-collection-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Card,Table,Tag,Space}from\"antd\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";var columns=[{title:'新闻标题',dataIndex:'title',key:'title',render:function render(text){return/*#__PURE__*/_jsx(\"strong\",{children:text});}},{title:'副标题',dataIndex:'subtitle',key:'subtitle'},{title:'操作',key:'action',render:function render(text,record){return/*#__PURE__*/_jsx(Space,{size:\"middle\",children:/*#__PURE__*/_jsx(\"a\",{href:record.url,target:'_blank',children:\"\\u8DF3\\u8F6C\\u539F\\u6587\"})});}}];function InfoShowList(props){var _props$match$params=props.match.params,college=_props$match$params.college,category=_props$match$params.category;var name=props.location.state?props.location.state.name:'';var websiteType=props.location.state?props.location.state.category:'';var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){var getList=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var info;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return axios.post(\"http://localhost:4000/api/getList\",{college:college,language:category});case 3:info=_context.sent.data;setData(info.data);setLoading(false);case 6:case\"end\":return _context.stop();}}},_callee);}));return function getList(){return _ref.apply(this,arguments);};}();getList();},[college,category]);return/*#__PURE__*/_jsx(Card,{title:name+'——'+websiteType,style:{border:'0',maxHeight:'80vh',overflow:'auto'},children:/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:data,loading:loading})});}export default InfoShowList;","map":{"version":3,"sources":["/zju/zju_news/news-collection-front-end/src/components/InfoShowList/index.js"],"names":["React","useEffect","useState","Card","Table","Tag","Space","axios","columns","title","dataIndex","key","render","text","record","url","InfoShowList","props","match","params","college","category","name","location","state","websiteType","data","setData","loading","setLoading","getList","post","language","info","border","maxHeight","overflow"],"mappings":"udAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAAQC,IAAR,CAAcC,KAAd,CAAqBC,GAArB,CAA0BC,KAA1B,KAAsC,MAAtC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,2CAEA,GAAMC,CAAAA,OAAO,CAAG,CACZ,CACIC,KAAK,CAAE,MADX,CAEIC,SAAS,CAAE,OAFf,CAGIC,GAAG,CAAE,OAHT,CAIIC,MAAM,CAAE,gBAAAC,IAAI,qBAAI,wBAASA,IAAT,EAAJ,EAJhB,CADY,CAOZ,CACIJ,KAAK,CAAE,KADX,CAEIC,SAAS,CAAE,UAFf,CAGIC,GAAG,CAAE,UAHT,CAPY,CAYZ,CACIF,KAAK,CAAE,IADX,CAEIE,GAAG,CAAE,QAFT,CAGIC,MAAM,CAAE,gBAACC,IAAD,CAAOC,MAAP,qBACJ,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,uBACI,UAAG,IAAI,CAAEA,MAAM,CAACC,GAAhB,CAAqB,MAAM,CAAE,QAA7B,sCADJ,EADI,EAHZ,CAZY,CAAhB,CAuBA,QAASC,CAAAA,YAAT,CAAuBC,KAAvB,CAA8B,yBACEA,KAAK,CAACC,KAAN,CAAYC,MADd,CACnBC,OADmB,qBACnBA,OADmB,CACVC,QADU,qBACVA,QADU,CAE1B,GAAMC,CAAAA,IAAI,CAAGL,KAAK,CAACM,QAAN,CAAeC,KAAf,CAAuBP,KAAK,CAACM,QAAN,CAAeC,KAAf,CAAqBF,IAA5C,CAAmD,EAAhE,CACA,GAAMG,CAAAA,WAAW,CAAGR,KAAK,CAACM,QAAN,CAAeC,KAAf,CAAsBP,KAAK,CAACM,QAAN,CAAeC,KAAf,CAAqBH,QAA3C,CAAqD,EAAzE,CAH0B,cAIHnB,QAAQ,CAAC,EAAD,CAJL,wCAInBwB,IAJmB,eAIdC,OAJc,8BAKIzB,QAAQ,CAAC,KAAD,CALZ,yCAKnB0B,OALmB,eAKVC,UALU,eAM1B5B,SAAS,CAAC,UAAM,CACZ,GAAM6B,CAAAA,OAAO,0FAAG,4IACZD,UAAU,CAAC,IAAD,CAAV,CADY,sBAEQtB,CAAAA,KAAK,CAACwB,IAAN,CAAY,mCAAZ,CAAiD,CACjEX,OAAO,CAAPA,OADiE,CAEjEY,QAAQ,CAAEX,QAFuD,CAAjD,CAFR,QAENY,IAFM,eAKRP,IALQ,CAMZC,OAAO,CAACM,IAAI,CAACP,IAAN,CAAP,CACAG,UAAU,CAAC,KAAD,CAAV,CAPY,sDAAH,kBAAPC,CAAAA,OAAO,0CAAb,CASAA,OAAO,GACV,CAXQ,CAWN,CAACV,OAAD,CAAUC,QAAV,CAXM,CAAT,CAYA,mBACI,KAAC,IAAD,EAAM,KAAK,CAAEC,IAAI,CAAG,IAAP,CAAcG,WAA3B,CAAwC,KAAK,CAAE,CAACS,MAAM,CAAC,GAAR,CAAaC,SAAS,CAAC,MAAvB,CAA+BC,QAAQ,CAAE,MAAzC,CAA/C,uBACI,KAAC,KAAD,EAAO,OAAO,CAAE5B,OAAhB,CAAyB,UAAU,CAAEkB,IAArC,CAA2C,OAAO,CAAEE,OAApD,EADJ,EADJ,CAKH,CAED,cAAeZ,CAAAA,YAAf","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {Card, Table, Tag, Space} from \"antd\";\nimport axios from \"axios\";\n\nconst columns = [\n    {\n        title: '新闻标题',\n        dataIndex: 'title',\n        key: 'title',\n        render: text => <strong>{text}</strong>,\n    },\n    {\n        title: '副标题',\n        dataIndex: 'subtitle',\n        key: 'subtitle',\n    },\n    {\n        title: '操作',\n        key: 'action',\n        render: (text, record) => (\n            <Space size=\"middle\">\n                <a href={record.url} target={'_blank'}>跳转原文</a>\n            </Space>\n        ),\n    },\n];\n\nfunction InfoShowList (props) {\n    const {college, category} = props.match.params\n    const name = props.location.state ? props.location.state.name : ''\n    const websiteType = props.location.state? props.location.state.category :''\n    const [data,setData] = useState([])\n    const [loading, setLoading] = useState(false)\n    useEffect(() => {\n        const getList = async () => {\n            setLoading(true)\n            const info = (await axios.post (\"http://localhost:4000/api/getList\", {\n                college,\n                language: category\n            })).data\n            setData(info.data)\n            setLoading(false)\n        }\n        getList()\n    }, [college, category])\n    return (\n        <Card title={name + '——' + websiteType} style={{border:'0', maxHeight:'80vh', overflow: 'auto'}}>\n            <Table columns={columns} dataSource={data} loading={loading}/>\n        </Card>\n    );\n}\n\nexport default InfoShowList;"]},"metadata":{},"sourceType":"module"}