{"ast":null,"code":"import _regeneratorRuntime from\"/zju/zju_news/news-collection-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/zju/zju_news/news-collection-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{Form,Input,Button,Checkbox,message}from'antd';import banner from\"../../banner.png\";import{Header}from\"antd/es/layout/layout\";import axios from\"axios\";import cookie from'react-cookies';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(props){var onFinish=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post('/api/auth/login',{username:values.username,password:values.password});case 2:data=_context.sent.data;if(data.code===200){cookie.save('username',values.username);props.history.push({pathname:'/index'});}else{message.warning('账号或密码错误，请重新输入！');}case 4:case\"end\":return _context.stop();}}},_callee);}));return function onFinish(_x){return _ref.apply(this,arguments);};}();var onFinishFailed=function onFinishFailed(errorInfo){console.log('Failed:',errorInfo);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{className:\"header\",style:{backgroundColor:'rgb(6, 22, 72)',position:'sticky',top:'0',zIndex:'1',height:'8vh'},children:/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"img\",{src:banner,alt:'logo',style:{height:'2.5rem'}})})}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'auto 0 auto 0',position:'absolute',top:'50%',width:'100vw',transform:'translateY(-50%)'},children:/*#__PURE__*/_jsxs(Form,{name:\"basic\",labelCol:{span:8},wrapperCol:{span:8},initialValues:{remember:true},onFinish:onFinish,onFinishFailed:onFinishFailed,children:[/*#__PURE__*/_jsx(Form.Item,{label:\"\\u8D26\\u53F7\",name:\"username\",rules:[{required:true,message:'请输入账号!'}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"\\u5BC6\\u7801\",name:\"password\",rules:[{required:true,message:'请输入密码!'}],children:/*#__PURE__*/_jsx(Input.Password,{})}),/*#__PURE__*/_jsx(Form.Item,{name:\"remember\",valuePropName:\"checked\",wrapperCol:{offset:8,span:8},children:/*#__PURE__*/_jsx(Checkbox,{children:\"\\u8BB0\\u4F4F\\u6211\"})}),/*#__PURE__*/_jsx(Form.Item,{wrapperCol:{offset:8,span:8},children:/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",children:\"\\u767B\\u5F55\"})})]})})]});};export default Login;","map":{"version":3,"sources":["/zju/zju_news/news-collection-front-end/src/pages/Login/index.js"],"names":["Form","Input","Button","Checkbox","message","banner","Header","axios","cookie","Login","props","onFinish","values","post","username","password","data","code","save","history","push","pathname","warning","onFinishFailed","errorInfo","console","log","backgroundColor","position","top","zIndex","height","padding","width","transform","span","remember","required","offset"],"mappings":"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","sourcesContent":["import {Form, Input, Button, Checkbox, message} from 'antd';\nimport banner from \"../../banner.png\";\nimport {Header} from \"antd/es/layout/layout\";\nimport axios from \"axios\";\nimport cookie from 'react-cookies'\n\nconst Login = props => {\n    const onFinish = async (values: any) => {\n        const data = (await axios.post ('/api/auth/login', {\n            username: values.username,\n            password: values.password\n        })).data\n        if(data.code === 200){\n            cookie.save('username', values.username)\n            props.history.push ({pathname: '/index'})\n        }\n        else {\n            message.warning('账号或密码错误，请重新输入！')\n        }\n    };\n\n    const onFinishFailed = (errorInfo: any) => {\n        console.log('Failed:', errorInfo);\n    };\n\n    return (\n        <div>\n            <Header className=\"header\" style={{backgroundColor:'rgb(6, 22, 72)', position:'sticky', top:'0', zIndex:'1', height:'8vh'}}>\n                <div className=\"logo\" >\n                    <img src={banner} alt={'logo'} style={{height:'2.5rem'}}/>\n                </div>\n            </Header>\n            <div style={{padding:'auto 0 auto 0',position:'absolute', top:'50%',width:'100vw', transform:'translateY(-50%)'}}>\n                <Form\n                    name=\"basic\"\n                    labelCol={{ span: 8 }}\n                    wrapperCol={{ span: 8 }}\n                    initialValues={{ remember: true }}\n                    onFinish={onFinish}\n                    onFinishFailed={onFinishFailed}\n                >\n                    <Form.Item\n                        label=\"账号\"\n                        name=\"username\"\n                        rules={[{ required: true, message: '请输入账号!' }]}\n                    >\n                        <Input />\n                    </Form.Item>\n\n                    <Form.Item\n                        label=\"密码\"\n                        name=\"password\"\n                        rules={[{ required: true, message: '请输入密码!' }]}\n                    >\n                        <Input.Password />\n                    </Form.Item>\n\n                    <Form.Item name=\"remember\" valuePropName=\"checked\" wrapperCol={{ offset: 8, span: 8 }}>\n                        <Checkbox>记住我</Checkbox>\n                    </Form.Item>\n\n                    <Form.Item wrapperCol={{ offset: 8, span: 8 }}>\n                        <Button type=\"primary\" htmlType=\"submit\">\n                            登录\n                        </Button>\n                    </Form.Item>\n                </Form>\n            </div>\n        </div>\n\n    );\n};\nexport default Login;"]},"metadata":{},"sourceType":"module"}